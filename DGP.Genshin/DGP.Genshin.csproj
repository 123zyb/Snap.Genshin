<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>WinExe</OutputType>
    <TargetFramework>net5.0-windows10.0.18362.0</TargetFramework>
    <UseWPF>true</UseWPF>
    <Nullable>enable</Nullable>
    <RunPostBuildEvent>OnBuildSuccess</RunPostBuildEvent>
    <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
    <ApplicationIcon>SG_Logo.ico</ApplicationIcon>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
    <PlatformTarget>x64</PlatformTarget>
    <OutputPath>..\Build\Debug</OutputPath>
  </PropertyGroup>

  <ItemGroup>
    <None Remove="Resources\BookmarkIcon.png" />
    <None Remove="Resources\CharactersIcon.png" />
    <None Remove="Resources\Segoe Fluent Icons.ttf" />
    <None Remove="Resources\WeaponsIcon.png" />
    <None Remove="Resources\WishIcon.png" />
    <None Remove="SG_Logo.ico" />
  </ItemGroup>

  <ItemGroup>
    <None Include="..\.editorconfig" Link=".editorconfig" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="EPPlus" Version="5.7.5" />
    <PackageReference Include="ini-parser" Version="2.5.2" />
    <PackageReference Include="Microsoft.Toolkit.Uwp.Notifications" Version="7.1.1" />
    <PackageReference Include="Microsoft.Web.WebView2" Version="1.0.992.28" />
    <PackageReference Include="ModernWpfUI" Version="0.9.4" />
    <PackageReference Include="Newtonsoft.Json" Version="13.0.1" />
    <PackageReference Include="Nito.AsyncEx" Version="5.1.2" />
    <PackageReference Include="Octokit" Version="0.50.0" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\DGP.Genshin.Updater\DGP.Genshin.Updater.csproj" />
    <ProjectReference Include="..\DGP.Snap.Framework\DGP.Snap.Framework.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Resource Include="Resources\BookmarkIcon.png" />
    <Resource Include="Resources\CharactersIcon.png" />
    <Resource Include="Resources\Segoe Fluent Icons.ttf" />
    <Resource Include="Resources\WeaponsIcon.png" />
    <Resource Include="Resources\WishIcon.png" />
    <Resource Include="SG_Logo.ico" />
  </ItemGroup>

  <Target Name="PreBuild" BeforeTargets="PreBuildEvent">
    <Exec Command="$(SolutionDir)Build\net5.0\DGP.Snap.AutoVersion.exe &quot;$(ProjectDir)&quot;" />
  </Target>

  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Exec Command="rd /s /q af-ZA&#xD;&#xA;rd /s /q am-ET&#xD;&#xA;rd /s /q ar-SA&#xD;&#xA;rd /s /q az-Latn-AZ&#xD;&#xA;rd /s /q be-BY&#xD;&#xA;rd /s /q bg-BG&#xD;&#xA;rd /s /q bn-BD&#xD;&#xA;rd /s /q bs-Latn-BA&#xD;&#xA;rd /s /q ca-ES&#xD;&#xA;rd /s /q cs-CZ&#xD;&#xA;rd /s /q da-DK&#xD;&#xA;rd /s /q de-DE&#xD;&#xA;rd /s /q el-GR&#xD;&#xA;rd /s /q en-GB&#xD;&#xA;rd /s /q es-ES&#xD;&#xA;rd /s /q es-MX&#xD;&#xA;rd /s /q et-EE&#xD;&#xA;rd /s /q eu-ES&#xD;&#xA;rd /s /q fa-IR&#xD;&#xA;rd /s /q fi-FI&#xD;&#xA;rd /s /q fr-CA&#xD;&#xA;rd /s /q fr-FR&#xD;&#xA;rd /s /q gl-ES&#xD;&#xA;rd /s /q ha-Latn-NG&#xD;&#xA;rd /s /q he-IL&#xD;&#xA;rd /s /q hi-IN&#xD;&#xA;rd /s /q hr-HR&#xD;&#xA;rd /s /q hu-HU&#xD;&#xA;rd /s /q id-ID&#xD;&#xA;rd /s /q is-IS&#xD;&#xA;rd /s /q it-IT&#xD;&#xA;rd /s /q ja-JP&#xD;&#xA;rd /s /q ka-GE&#xD;&#xA;rd /s /q kk-KZ&#xD;&#xA;rd /s /q km-KH&#xD;&#xA;rd /s /q kn-IN&#xD;&#xA;rd /s /q ko-KR&#xD;&#xA;rd /s /q lo-LA&#xD;&#xA;rd /s /q lt-LT&#xD;&#xA;rd /s /q lv-LV&#xD;&#xA;rd /s /q mk-MK&#xD;&#xA;rd /s /q ml-IN&#xD;&#xA;rd /s /q ms-MY&#xD;&#xA;rd /s /q nb-NO&#xD;&#xA;rd /s /q nl-NL&#xD;&#xA;rd /s /q nn-NO&#xD;&#xA;rd /s /q pl-PL&#xD;&#xA;rd /s /q pt-BR&#xD;&#xA;rd /s /q pt-PT&#xD;&#xA;rd /s /q ro-RO&#xD;&#xA;rd /s /q ru-RU&#xD;&#xA;rd /s /q sk-SK&#xD;&#xA;rd /s /q sl-SI&#xD;&#xA;rd /s /q sq-AL&#xD;&#xA;rd /s /q sr-Latn-RS&#xD;&#xA;rd /s /q sv-SE&#xD;&#xA;rd /s /q sw-KE&#xD;&#xA;rd /s /q ta-IN&#xD;&#xA;rd /s /q te-IN&#xD;&#xA;rd /s /q th-TH&#xD;&#xA;rd /s /q tr-TR&#xD;&#xA;rd /s /q uk-UA&#xD;&#xA;rd /s /q uz-Latn-UZ&#xD;&#xA;rd /s /q vi-VN&#xD;&#xA;rd /s /q zh-TW&#xD;&#xA;&#xD;&#xA;del *.pdb *.xml *dll.config DGP.Snap.Updater.exe.config&#xD;&#xA;&#xD;&#xA;move /Y *.dll .\libraries&#xD;&#xA;move /y .\runtimes .\libraries&#xD;&#xA;&#xD;&#xA;if exist Package.zip del Package.zip&#xD;&#xA;&#xD;&#xA;$(SolutionDir)Build\7z a Package.zip libraries&#xD;&#xA;$(SolutionDir)Build\7z a Package.zip Metadata&#xD;&#xA;$(SolutionDir)Build\7z a Package.zip zh-CN&#xD;&#xA;$(SolutionDir)Build\7z a Package.zip *.exe&#xD;&#xA;$(SolutionDir)Build\7z a Package.zip *.exe.config" />
  </Target>

</Project>
